homePi_assign("admin.extensions",{print_list:e=>{homePi.api.call("extensions/search",{query:e}).then((e=>{const n=$(".extension-search-results");n.empty(),$.each(e.data,(function(e,a){const i=homePi.template.get(".extension-brief");i.find(".extension-name").text(a.name),i.find(".extension-description").text(a.description||a.name),i.find(".extension-owner").text(a.repository.owner.name),i.find(".extension-stars").text(a.repository.stars_count),i.find(".extension-issues").text(a.repository.open_issues_count),i.find(".extension-pushed-ago").text(a.repository.pushed_ago),i.attr("data-verified",a.verified),i.attr("href",`/#/admin/extensions/view/?id=${a.id}`),i.appendTo(n)}))}))},install:e=>{$('[data-extension-action="install"]').showLoading(),homePi.api.call("extensions/install",{id:e}).then((e=>{homePi.message.send(homePi.locale.translate("admin.extensions.message.installed",[e.data.name])),$('[data-extension-action="install"]').hideLoading(),homePi.page.reload()}))},uninstall:e=>{$('[data-extension-action="uninstall"]').showLoading(),setTimeout((()=>{homePi.api.call("extensions/uninstall",{id:e}).then((e=>{homePi.message.send(homePi.locale.translate("admin.extensions.message.uninstalled",[e.data.name])),$('[data-extension-action="enable"]').hideLoading(),homePi.page.reload()}))}),1500)},enable:e=>{$('[data-extension-action="enable"]').showLoading(),setTimeout((()=>{homePi.api.call("extensions/toggle",{id:e,action:"enable"}).then((e=>{homePi.message.send(homePi.locale.translate("admin.extensions.message.enabled",[e.data.name])),$('[data-extension-action="enable"]').hideLoading(),homePi.page.reload()}))}),250)},disable:e=>{$('[data-extension-action="disable"]').showLoading(),setTimeout((()=>{homePi.api.call("extensions/toggle",{id:e,action:"disable"}).then((e=>{homePi.message.send(homePi.locale.translate("admin.extensions.message.disabled",[e.data.name])),$('[data-extension-action="disable"]').hideLoading(),homePi.page.reload()}))}),250)}});